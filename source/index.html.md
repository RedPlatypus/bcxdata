---
title: BCX Data API Reference

# lang-tab is mostly written in Javascript for development, should expand to python
language_tabs: # must be one of https://git.io/vQNgJ
  - javascript

toc_footers:
  - BCX Data Documentation
  - <a href='https://github.com/lord/slate'>Documentation Powered by Slate</a>

includes:
  - amalgamated_candles
  - exchanges
  - exchange_candles
  - coins
  - errors

search: false
---

# Welcome

This is the documentation for the BCX Data repo. The idea will be that anyting that we show on BCX Data, a user can do with this API. There currently will be no internal API calls that only we are authenticated for. This is our outward facing API. For our internal data gathering app, see the other github repository on github.

Each general section should contain the following sections
*Endpoints, Passed Parameters, Variable Descriptions, Returned Data*

<aside class="notice">
  <ol>
    <li>TODO: insert link to internal data gathering app.</li>
    <li>TODO: decide what timestamp format we want to use.</li>
  </ol>
</aside>

## Philosophy

> Example Responses

```json
// Use envelopes for return data, especially arrays
{
  "data":[
    {"object":1},
    {"object":2}
    ...
  ]
}

//Don't return arrays without enveloping
[{
  "object":1
},{
  "object":2
}]

// Successful response 204, succesful operation
// no data required to be returned.
{"data": null}


// variables are underscored & lowercase
{
  "coin_id":{
    "price_change": 24.194,
    "noCamelCaseReturn": 342,
  }
}

// Sample Error Response TODO: Determine if this is correct
{
    "errors":[
        {
            "number":   405,
            "message":  "The interval was too small for the requested time period."
        }
    ]
}

```

The API philosophy uses the following guidelines:

* Short url's
* Use Plurals i.e. `/trades` not `/trade/all`
* Avoid Unnecessary Query Strings
  * `/trades/:id/collections` is better than
  * `/collections?trades=:id` is better than
  * `/users?trades=:id?collections=:id`
* `GET` for fetching, `POST` for adding data, `PUT` for updating data, `PATCH` for updating data with partial information, `DELETE` for deleting data.
* Use *Envelopes*.
  * Every JSON response is sent back inside a top level object {}
  * Even on failure send back error
* On Successful 2XX Responses that don't require data
  * Still return an object with data as a top level obj
* *Variables* should be underscored and lowercase. id is not an exception.

## Versioning
We follow semantic versioning. Major changes that will break previous functionality should be at a new endpoint of v2, v3, etc. Minor changes that don't break functionality, and can use the same endpoints will be rolled out with notice to users to allow for a smooth transition to the newer API.

## JSON and CSV Support

```javascript
// Example Request for CSV data
let data = req.get("https://api.bcxdata.com/v1/candles/bitcoin?format=csv");
let data2 = req.get("https://api.bcxdata.com/v1/exchanges?format=csv");
```

By default data will be returned in `JSON` format. The flag `?format=csv` should return a link to a csv file. The file is generated by the server and stored in S3, then returned as a downloadable link to the user.

**From a front end perspective, it might be useful to create a repeated csv search that is emailed to the user on a daily/weekly/monthly basis using this method**

## Cross Origin Requests Sharing (CORS)
API supports requests from the subdomain `api.bcxdata.com`. Requests from `localhost`, `127.0.0.1` should always succed to aid in development. 

<aside class="notice">
  TODO: confirm with Wayne &amp; ask API expert.
</aside>

## V1 Endpoints
**Base Url**: `api.bcxdata.com/v1/`

### v1 non-auth endpoints

* `/ping` -> health check of API
* `/candles` -> [go to amalgamated candles](#amalgamated-candles) -> USD amalgamation is imposed accross exchanges
  * `/candles/:bcx_symbol[USD]`
  * `/candles/:bcx_symbol[USD]/:frequency`
  * `/candles/:bcx_symbol[USD]/:frequency/:period?start<timestamp>&end<timestamp>`
* `/exchanges` [go to exchanges](#exchanges)
  * `/exchanges/:exchange_id`
* `/exchanges/:exchange_id/candles` [go to exchange candles](#exchange-candles)
  * `/exchanges/:exchange_id/candles/:currency`
  * `/exchanges/:exchange_id/candles/:currency/:frequency`
  * `/exchanges/:exchange_id/candles/:currency/:frequency/:interval?start<timestamp>&end<timestamp>`
* `/coins` -> Data for the view of homepage on bcxdata.com [go to coins](#coins)
  * `/coins/:bcx_symbol` -> All data for a particular coin, dev, community, news, cheatsheet, sumarized version of particular coin
  * `/coins/:bcx_symbol/developer` -> all dev data on github: stars, forks, branches, issues etc...
  * `/coins/:bcx_symbol/community` -> all community data: facebook, youtube, twitter, reddit, reddit hot issues, recent news etc...
  * `/coins/:bcx_symbol/news` -> news on a particular coin # of posts in the past 24h
  * `/coins/:bcx_symbol/cheat` -> cheat sheet data for the coin
  * `/coins/:bcx_symbol/tcmi` -> gets the TCMI ranking for a coin
* `/dashboards` -> [go to dashboards](#dashboards) the home page information
  * `/dashboards/:bcx_symbol` -> the dashboard for a specific bcx_symbol


**Questioning the following end points. Are they necessary. Do they add value?**
While this data can be received from other places. Should we go to the trouble of adding in these additional end points?

Current answer is NO, don't implement these, unless easy enough to do.

* `/developers` -> all developer data for all coins
  * `/developers/:bcx_symbol`-> developer data for a particular coin. Can be received from `coins/:bcx_symbol/developer`
* `/community` -> all community data
  * `/community/:bcx_symbol` -> community data for a particular coin. Can be received from `coins/:bcx_symbol/community`
* `/tcmi` -> all coins listing **TOTAL CRYPTO MARKET INDEX**
  * `/tcmi/:bcx_symbol` -> get the crypto index for a particular coin `coins/:bcx_symbol/tcmi`


## v2 Endpoints

**Base URL**: `api.bcxdata.com/v2/`

### v2 non-auth endpoints

* `/nodes` -> returns number of nodes for a particular coin
* `/activty` -> vol, transactions, avg/day, record
* `/candles/:bcx_symbol[:coinPair]` -> ability to specify the coin's pair
* `/trades/:bcx_symbol`
